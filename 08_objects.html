<!DOCTYPE html>
<html>

<head>
    <title> Ch08 Objects  </title>
        <style>
            /*css*/
        </style>
</head>

<body>
    <!--html -->
    <h3> Note: </h3>
    <p>
        What is an <strong> Object</strong>?<br>
        1,  it groups multiple values together; pack them all in '{}'.<br>
        1-1, it has property(name) and it's <strong> values (concrete ones with type)</strong>. <br>
        1-2, which can be access through property <strong> dot</strong> notation, which is convenient <br>
        1-3, access through property <strong> bracket </strong> notation, when dot doesn't work, eg: dot-name, - can't be process <br>
        <hr>
        2, check <a href="https://supersimple.dev/projects/objects/">rock paper scissors with a score record.</a> <br>
        <hr>
        3, Built in functions: JSON <br>
        3-1, JSON = js object notation: a syntax that similar to JS object but has less features.<br>
        3-2, json is more universal, more than just in js. easy to use, transfer, store data.<br>
        3-3, built-in method to convert JS objects to JSON<br>
        4, Built in functions: localStorage <br>
        4-1, save the values more permanently,like rps game, after closing page and reopen/refresh it, record is kept.<br>
        4-2, first setItem, (key,obj), then getItem before loading, remember adding <strong> default value</strong>, so after delete object reload won;t throw errors.<br>
        4-3, stringify ~~~ parse while using JSON.<br>
        <hr>
        5, null(intentionally want sth to be empty!) vs undefined(using default value,such as params).<br>
        6,auto-boxing,string being wrapped as special obj that has methods ,length, upper/lowercase to use. also number. but NOT with null or undefined.<br>
        7, Objects are references!like a shortcut, so we can't compare objects directly,=== just comparing it's reference. <br>
        8, shortcuts, property, method...destructuring...
    </p>

    <script>
        // js code
        const product = {
            name: 'socks',
            price: 10
        }
        console.log(product);
        console.log(product.name);
        console.log(product.price);

        // it can be modified:
        product.name = 'cotton socks';
        product.genre = 'clothes';
        product.newtest = true;
        console.log(product);
        delete product.newtest;
        console.log(product);

        // bracket notation
        // nested objects: even for functions
        const product2 = {
            name: 'shirt',
            price: 109,
            'discount-rate': 0.1, 
            rating: {
                stars: 4.5,
                count: 87
            },
            fun : function test() {
                console.log('nested objects, inside functions');
            }
        }
        product2['delivery-time'] = '1 day';
        console.log(product2);
        product2.fun(); // called method.
        console.log(console.log);
        console.log(typeof (console));
        console.log(typeof (console.log));

        //Json don't support functions, only use ""
        const product3 = {
            "name": 'shirt',
            "price": 109,
            'discount-rate': 0.1, 
            "rating": {
                "stars": 4.5,
                "count": 87
            }
        }

        console.log('built-in method, transfer JS object to JSON(as a string)');
        // built-in to tranfer JSON
        console.log(JSON.stringify(product2));
        console.log('built-in method, use parse to convert backward');
        const json_string = JSON.stringify(product2);
        console.log(JSON.parse(json_string));

        //auto boxing:
        console.log('hello'.length);
        console.log('hello'.toUpperCase());

        const product4 = product2;
        // not a copy, but point to the same address/reference.
        product4.name = 'check it out!!! reference';
        console.log(product2);

        //deconstructuring: 2 lines are same. can deconstruct multiple properties
        // const price = product2.price;
        const {price} = product2;

        // shortcuts
        const product5 = {
            // price: price
            price,
            /**
            method: function function5() {
                console.log("inside method 5, shortcut and standard way of writting it");
            }
             */
            method() {
                console.log("inside method 5, shortcut and standard way of writting");
            }
        }

        product5.method();

        // exercise08 ///////////////////////////
        console.log('ex08: a-c ---------------------------------');

        const product6 = {
            name: 'basketball',
            price: 2095
        }

        const product7 = {
            name: 'basketball',
            price: 2095
        }
        product6.price = product6.price + 500;
        product6['delivery-time'] = '3 days';
        console.log(product6);

        console.log('ex08: d-g ---------------------------------');

        function comparePrice(p1, p2) {
            if(p1.price <= p2.price){
                return p1;
            } else {
                return p2;
            }
        }
        const p = (comparePrice(product3, product6))
        console.log(`this product is cheaper: ${p.name}`);

        function isSameProduct(p1, p2) {
            if(p1.price === p2.price && p1.name ===p2.name){
                return true;
            } else {
                return false;
            }
        }

        const pp = (isSameProduct(product7, product6))
        console.log(`P6 and p7 are the same product? ${pp}`);
        console.log('ABC'.toLowerCase());
        console.log('ABC'.repeat(3));


    </script>
</body>

</html>